version: '1.0'

steps:
  build-prj:
    type: build
    description: e2e use case
    image-name: shevchikivan/hello-world
    dockerfile: Dockerfile
    tag: latest

  push-step:
    type: push
    description: Free text description
    candidate: ${{build-prj}}
    tag: ${{CF_BRANCH}}
    registry: AKIAJOWZS37TIODARAJQ.dkr.ecr.us-east-1.amazonaws.com
    credentials:
      username: ${{AWS_ACCESS_KEY_ID}}
      password: ${{AWS_SECRET_ACCESS_KEY}}
    fail-fast: false
